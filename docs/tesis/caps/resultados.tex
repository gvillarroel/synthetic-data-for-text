\chapter{Resultados}
En este proyecto, se han generado datos sintéticos empleando diversos preprocesamientos y modelos de aprendizaje automático. Los resultados obtenidos se analizan en función del desempeño de los modelos entrenados con los datos sintéticos, y se evalúan en términos de similitud, privacidad y utilidad de los datos generados.

Es importante destacar que los resultados son específicos para cada conjunto de datos y modelo empleado. Por consiguiente, se ofrece una descripción detallada de los resultados en cada caso particular. Esto posibilita una comprensión más profunda acerca de la efectividad de los distintos métodos empleados en la generación de datos sintéticos y su comparación con los datos reales.

\newpage
\section{King County}

\subsection{Reportes}

La Tabla \ref{table-score-king county-a} presenta los puntajes alcanzados por los distintos patrones empleados en este estudio. Se observa que los patrones con calificaciones superiores, tales como tddpm\_mlp y smote-enc, exhiben una mayor correspondencia con el conjunto original de datos. Por otro lado, aquellos patrones con calificaciones inferiores, como ctgan, muestran una correspondencia significativamente reducida con el conjunto original. Se proporciona el promedio ± desviación en base de las 3 ejecuciones.

\input{datasets/kingcounty-a/tables/table-score-king county-a.tex}    



%\input{datasets/kingcounty-a-1/tables/table-score-king county-a-1.tex}
%\input{datasets/kingcounty-a-2/tables/table-score-king county-a-2.tex}
%\input{datasets/kingcounty-a-3/tables/table-score-king county-a-3.tex}

Aunque los patrones TDDPM y SMOTE logran calificaciones prometedoras en términos generales, existe una diferencia notable entre ambos en lo que respecta a cobertura y límites. SMOTE no abarca la diversidad del conjunto de datos, lo cual se manifiesta en su calificación de cobertura \emph{(Coverage)}, que es considerablemente inferior a la de TDDPM, así como en su calificación de límites \emph{(Boundaries)}.

\newpage
\subsubsection{Correlación pairwise}
Este resultado se puede apreciar en el Anexo \fullref{A-pairwise-kingcounty-top2-a-1}, donde se muestran las diferencias entre los datos reales y los datos generados por cada modelo. Se puede observar que, en general, los modelos con puntajes más altos tienen una mayor similitud visual con los datos reales. Por ejemplo, las imágenes \fullref{pairwise-king county-a-1-copulagan} y \fullref{pairwise-king county-a-1-gaussiancopula} muestran la comparación entre los datos reales y los datos generados por los modelos gaussiancopula y copulagan. A pesar de que estos modelos tienen puntajes similares, el modelo gaussiancopula tiene una mayor similitud visual con los datos reales que el modelo copulagan.

\input{datasets/kingcounty-a-1/pairwise/pairwise-king county-a-1-copulagan.tex}

\input{datasets/kingcounty-a-1/pairwise/pairwise-king county-a-1-gaussiancopula.tex}

\newpage 
Es importante destacar que, entre los modelos con puntajes superiores al 90\%, puede ser difícil evaluar visualmente cuál es el mejor. Esto se debe a que, a medida que el puntaje aumenta, la similitud visual entre los datos reales y los datos generados también aumenta. Esto se puede observar en las figuras \fullref{pairwise-king county-a-1-smote-enc} y \fullref{pairwise-king county-a-1-tddpm_mlp}, donde se comparan los datos reales con los datos generados por los modelos smote-enc y tddpm\_mlp, respectivamente. Ambos modelos tienen puntajes superiores al 90\%, y la similitud visual entre los datos reales y los datos generados es muy alta en ambos casos.

\input{datasets/kingcounty-a-1/pairwise/pairwise-king county-a-1-smote-enc.tex}

\input{datasets/kingcounty-a-1/pairwise/pairwise-king county-a-1-tddpm_mlp.tex}

En la evaluación de SDMetrics y en la comparación visual utilizando la correlación de Wise, los mejores modelos encontrados son TDDPM y SMOTE. Estos modelos han obtenido los puntajes más altos en ambas métricas y también se han demostrado tener una mayor similitud visual con los datos reales. Por lo tanto, se puede concluir que estos modelos son los más efectivos para generar datos sintéticos útiles para este conjunto de datos específico.

\newpage
\subsubsection{Revisión de Columnas}
La \fullref{table-coverage-king county-a} muestra la superioridad del modelo TDDPM al cubrir los diferentes valores en general, aunque existen casos en los que ambos modelos fallan en cubrir los valores. Por ejemplo, en las columnas de \emph{bathrooms} o \emph{bedrooms}, donde TDDPM solo sobrepasa el 70\% de cobertura, pero aún así es mejor que SMOTE. En cambio, SMOTE tiene algunos atributos que solo alcanzan un 40\% de cobertura.

\input{datasets/kingcounty-a/tables/table-coverage-king county-a.tex}

\newpage
En general, la distribución en ambos modelos es cercana a la real, en casi todos los casos por encima del 90\%. La única excepción es SMOTE en \emph{bathrooms}.

\input{datasets/kingcounty-a/tables/table-shape-king county-a.tex}

\newpage

En la revisión por columnas de los conjuntos de datos completos, como se puede observar en la lista \fullref{A-pairwise-kingcounty-top2-a-1}, se aprecia una similitud entre los tres conjuntos analizados: Real, Smote y TDDPM. Sin embargo, existen diferencias notables entre ellos. Cabe destacar que los datos generados son alrededor de un 20\% más grandes que el conjunto real.

En varias columnas, la distribución entre los tres conjuntos es similar, como es el caso de bathrooms, sqft\_lot, sqft\_above, price, sqft\_living, sqft\_basement, yr\_built, sqft\_living15 y grade. En \fullref{frecuency-top2-grade} muestra un ejemplo de esto.

\input{datasets/kingcounty-a-1/top2/frecuency-top2-grade.tex}


\newpage
La distribución de los atributos bedrooms, condition, view y floors contiene más elementos menos frecuentes en el conjunto de datos generado por el modelo TDDPM. Por ejemplo, en \fullref{frecuency-top2-bedrooms} se puede observar que en la columna \emph{bedrooms} la distribución de valores en el conjunto TDDPM es distinta a SMOTE. Presenta más registros en valor 6 y 1.


\input{datasets/kingcounty-a-1/top2/frecuency-top2-bedrooms.tex}

\newpage
En contraste, en el caso de la columna \emph{sqft\_lot15}, el modelo SMOTE tiene una distribución más cercana a la del conjunto real. Esto se puede observar en \fullref{frecuency-top2-sqft lot15}.

\input{datasets/kingcounty-a-1/top2/frecuency-top2-sqft lot15.tex}

\newpage
\subsubsection{Privacidad}
En el análisis de los registros más cercanos entre los conjuntos reales usados para entrenamiento, los generados por los modelos y el conjunto real almacenado, se presentan sus distancias en la tabla.

\input{datasets/kingcounty-a/tables/table-dcr-king county-a.tex}

%\input{datasets/kingcounty-a-1/tables/table-dcr-king county-a-1.tex}
%\input{datasets/kingcounty-a-2/tables/table-dcr-king county-a-2.tex}
%\input{datasets/kingcounty-a-3/tables/table-dcr-king county-a-3.tex}

En la \fullref{frecuency-top2-privacy} solo se consideran los modelos TDDPM y SMOTE para su comparación. Se ve que en ambos casos existe una distancia mayor a cero, pero que en el caso de TDDPM es mayor, por lo que se considera que es un mejor conjunto en términos de privacidad.

\input{datasets/kingcounty-a-1/top2/frecuency-top2-privacy.tex}


\newpage
\section{Economicos}
El conjunto de economicos, a diferencia de kingcounty que fue filtrado y preprocesado para evitar valores nulos. Este dataset economicos.cl contiene nulos. A continuación se mostrará dos tipos de tratamientos de los elementos nulos. El primero simplemente quita todos los registros que contiene un registro vacio con dropna, se muestra en Código \fullref{codigo-remove-nan}, se considerará \fullref{ds-conjunto-a}. El Código \fullref{codigo-replace-nan} se considerará \fullref{ds-conjunto-b}.


\begin{listing}[H]
    \begin{minted}[linenos=true,frame=lines,framesep=2mm,baselinestretch=1.2]{python}
df_converted = df.dropna().astype({k: 'str' for k in ("description", "price", "title", "address", "owner",)})
basedate = pd.Timestamp('2017-12-01')
dtime = df_converted.pop("publication_date")
df_converted["publication_date"] = dtime.apply(lambda x: (x - basedate).days)
    \end{minted}
\caption{Eliminación de valores nulos en el conjunto de datos de Económicos}
\label{codigo-remove-nan}
\end{listing}

\begin{listing}[H]
    \begin{minted}[linenos=true,frame=lines,framesep=2mm,baselinestretch=1.2]{python}
df_converted = df.fillna(dict(
            property_type = "None",
            transaction_type = "None",
            state = "None",
            county = "None",
            rooms = -1,
            bathrooms = -1,
            m_built = -1,
            m_size = -1,
            source = "None"
    )).fillna(-1).astype({k: 'str' for k in ("description", "price", "title", "address", "owner",)})
basedate = pd.Timestamp('2017-12-01')
dtime = df_converted.pop("publication_date")
df_converted["publication_date"] = dtime.apply(lambda x: (x - basedate).days)
    \end{minted}
\caption{Reemplazo de valores nulos en el conjunto de datos de Económicos}
\label{codigo-replace-nan}
\end{listing}

\newpage
\subsection{Reportes - Conjunto A}
\textbf{Conjunto A}
\label{ds-conjunto-a}
Para el conjunto A, como la \fullref{table-score-economicos-a} muestra los 

\input{datasets/economicos-a/tables/table-score-economicos-a.tex}

%\input{datasets/economicos-a/tables/table-dcr-economicos-a.tex}
\input{datasets/economicos-a/tables/table-dcr-economicos-a.tex}
\input{datasets/economicos-a/tables/table-nndr-economicos-a.tex}


%\input{datasets/economicos-a-1/tables/table-dcr-economicos-a-1.tex}
\input{datasets/economicos-a/tables/table-coverage-economicos-a.tex}

%\input{datasets/economicos-a-1/tables/table-coverage-economicos-a-1.tex}
\input{datasets/economicos-a/tables/table-shape-economicos-a.tex}
%\input{datasets/economicos-a-1/tables/table-shape-economicos-a-1.tex}

\newpage
\subsection{Reportes - Conjunto B}
\label{ds-conjunto-b}

\input{datasets/economicos-b/tables/table-dcr-economicos-b.tex}
\input{datasets/economicos-b/tables/table-nndr-economicos-b.tex}
\input{datasets/economicos-b/tables/table-coverage-economicos-b.tex}
\input{datasets/economicos-b/tables/table-shape-economicos-b.tex}



\input{datasets/kingcounty-a-1/pairwise/pairwise-king county-a-1-copulagan.tex}
\input{datasets/kingcounty-a-1/pairwise/pairwise-king county-a-1-gaussiancopula.tex}


%En la Tabla \ref{dcr-eco-a-scores} se muestran los resultados de los scores, donde valores más altos indican un mejor rendimiento.



